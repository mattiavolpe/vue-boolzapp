<!DOCTYPE html>
<html lang="en">
  
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- FONTAWESOME -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ==" crossorigin="anonymous" referrerpolicy="no-referrer">
    
    <!-- EXTERNAL BOOTSTRAP CSS CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

    <!-- EXTERNAL PERSONAL CSS -->
    <link rel="stylesheet" href="./assets/css/style.css">
    
    <title>Boolzap</title>
  </head>
  
  <body>
    
    <div id="app">
      
      <div class="container d-flex">

            <div id="left_section">
              
              <div id="header_left" class="top_app d-flex justify-content-between align-items-center px-3">
                <div class="d-flex align-items-center">
                  <img width="50" class="rounded-circle me-3" src="./assets/img/avatar_io.jpg" alt="User profile image">
                  <div>
                    <h5 class="m-0">Sofia</h5>
                  </div>
                </div>
                <ul class="d-flex align-items-center list-unstyled m-0 icon_color">
                  <li>
                    <i class="fa-solid fa-circle-notch fa-lg"></i>
                  </li>
                  <li class="mx-3">
                    <i class="fa-solid fa-message"></i>
                  </li>
                  <li>
                    <i class="fa-solid fa-ellipsis-vertical fa-lg"></i>
                  </li>
                </ul>
              </div>
              <!-- /#header_left.top_app -->

              <div id="activate_notification" class="d-flex align-items-center px-3">
                <div class="notification_icon_container me-3">
                  <i class="fa-solid fa-bell-slash"></i>
                </div>
                <!-- /.notification_icon_container -->
                <div class="activate_notification_text">
                  <h6 class="m-0">Receive new messages notification</h6>
                  <span class="text-decoration-underline icon_color_dark">Activate desktop notifications</span>
                </div>
                <!-- /.activate_notification_text -->
              </div>
              <!-- /#activate_notification -->

              <div id="search_contact" class="d-flex align-items-center px-3">

                <div class="d-flex w-100">
                  <label class="d-flex justify-content-center align-items-center bg-white px-4 icon_color" for="search_contact_input">
                    <i class="fa-solid fa-magnifying-glass fa-fw"></i>
                  </label>
                  <input class="text_dark flex-grow-1" type="text" id="search_contact_input" v-model="contactToSearch">
                </div>
                <!-- /.d-flex -->

              </div>
              <!-- /#search_contact -->

              <ul id="contacts_list" class="m-0 bg-white p-0">

                <li class="contact justify-content-between align-items-center px-3" :class="contactToSearch.trim() === '' || searchContacts(contact) ? 'd-flex' : '', activeContact === index ? 'active' : '' "v-for="(contact, index) in contacts" @click="activeContact = index" v-show="contactToSearch.trim() === '' || searchContacts(contact)">
                  <div class="left_contact_section d-flex align-items-start">
                    <img width="60" class="rounded-circle me-3" :src="`./assets/${contact.avatar.slice(2, contact.avatar.length - 4)}.jpg`" :alt="`${contact.name} image`">
                    <div>
                      <h6 class="m-0">{{contact.name}}</h6>
                      <span v-if="contact.messages.length > 0" class="icon_color_dark">{{contact.messages[contact.messages.length - 1].message}}</span>
                    </div>
                  </div>
                  <div class="right_contact_section d-flex align-items-start">
                    <span v-if="contact.messages.length > 0" class="last_message_time icon_color_dark">{{contact.messages[contact.messages.length - 1].date.slice(11, 16)}}</span>
                  </div>
                </li>
                <!-- /.contact -->
                
              </ul>
              <!-- /#contacts_list -->

            </div>
            <!-- /.left_section -->

            <div id="right_section">

              <div id="header_right" class="top_app d-flex justify-content-between align-items-center px-3">
                <div class="d-flex align-items-center">
                  <img width="50" class="rounded-circle me-3" :src="`./assets/${contacts[activeContact].avatar.slice(2, contacts[activeContact].avatar.length - 4)}.jpg`" :alt="`${contacts[activeContact].name} image`">
                  <div>
                    <h5 class="m-0">{{contacts[activeContact].name}}</h5>
                    <span class="m-0 icon_color">Last seen today at {{generateRandomAccess()}}</span>
                  </div>
                </div>
                <ul class="d-flex align-items-center list-unstyled m-0 icon_color">
                  <li>
                    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
                  </li>
                  <li class="mx-3">
                    <i class="fa-solid fa-paperclip fa-lg"></i>
                  </li>
                  <li>
                    <i class="fa-solid fa-ellipsis-vertical fa-lg"></i>
                  </li>
                </ul>
              </div>
              <!-- /#header_right.top_app -->

              <main id="right_main_content" class="px-5 py-3 d-flex flex-column-reverse flex-shrink-0">

                <div class="message" v-for="message in contacts[activeContact].messages.slice().reverse()">
                  <div class="d-flex justify-content-between" :class="message.status === 'sent' ? 'sent_message' : 'received_message'">
                    <span class="text">{{message.message}}</span>
                    <div class="right_message_section d-flex flex-column justify-content-between align-self-stretch">
                      <span class="text-end">
                        <i @click="removeMessage(message)" class="fa-solid fa-angle-down fa-lg icon_color text-end"></i>
                      </span>
                      <span class="icon_color text-end align-self-end">{{message.date.slice(11, 16)}}</span>
                    </div>
                  </div>
                </div>
                <!-- /.message -->
                
              </main>
              <!-- /#right_main_content -->

              <div id="bottom_right" class="bottom_app d-flex justify-content-around align-items-center px-3">
                <i class="fa-regular fa-face-smile icon_color_dark fa-lg"></i>
                <input type="text" class="form-control border-0 text_dark" name="newMessage" id="newMessage" placeholder="Write a new message" v-model.trim="newMessage" @keydown.enter="sendNewMessage()">
                <i class="fa-solid fa-microphone icon_color_dark fa-lg"></i>
              </div>
              <!-- /#bottom_right.bottom_app -->

            </div>
            <!-- /.right_section -->

      </div>
      <!-- /.container -->
      
    </div>
    <!-- /#app -->
    
    <!-- EXTERNAL BOOTSTRAP JS CDN -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    
    <!-- EXTERNAL VUE JS CDN -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    
    <!-- EXTERNAL PERSONAL JS -->
    <script src="./assets/js/app.js"></script>
    
  </body>
  
</html>